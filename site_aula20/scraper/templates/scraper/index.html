{% load static %}
<!-- index.html -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Web Scraper</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">
    <link rel="icon" href="https://cdn3.iconfinder.com/data/icons/logos-and-brands-adobe/512/267_Python-512.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="https://cdn3.iconfinder.com/data/icons/logos-and-brands-adobe/512/267_Python-512.png" alt=""
                    width="30" height="24" class="d-inline-block align-text-top">
                Python do Zero ao Avançado!
            </a>
        </div>
    </nav>
    <div class="container">
        <h1>Web Scraper</h1>
        <div class="search-container">
            <form method="post" action="/">
                {% csrf_token %}
                <input type="text" name="url" placeholder="Digite a URL">
                <button type="submit">Pesquisar</button>
            </form>
        </div>
        {% if tags_count %}
        <h2>Estatísticas:</h2>
        <table>
            <table>
                <tr>
                    <th>Total de tags encontradas</th>
                    <td>{{ tags_count }}</td>
                </tr>
                <tr>
                    <th>Total de tags únicas</th>
                    <td>{{ unique_tags_count }}</td>
                </tr>
            </table>

            <h3>Tags mais comuns:</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tag</th>
                        <th>Contagem</th>
                    </tr>
                </thead>
                <tbody>
                    {% for tag, count in top_tags.items %}
                    <tr>
                        <td>{{ tag }}</td>
                        <td>{{ count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <h3>Classes mais comuns:</h3>
            <table>
                <thead>
                    <tr>
                        <th>Classe</th>
                        <th>Contagem</th>
                    </tr>
                </thead>
                <tbody>
                    {% for class, count in top_classes.items %}
                    <tr>
                        <td>{{ class }}</td>
                        <td>{{ count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </table>

        {% if graph_path %}
        <h2>Estatísticas das Tags</h2>
        <img src="{% static graph_path %}" alt="Gráfico de Barras" class="graph-image">
        {% endif %}

        {% else %}

        <div class="info-home">
            <p>Olá! Bem-vindo ao nosso site de exemplo, desenvolvido durante o curso "Python do Zero ao Avançado". Aqui
                você pode realizar web scraping de forma simples e obter informações estatísticas sobre qualquer site
                que desejar.</p>
            <p>Para começar, basta inserir a URL do site que você deseja analisar no campo de pesquisa. Faremos a
                coleta dos dados relevantes e apresentaremos as estatísticas disponíveis. Lembre-se de fornecer uma URL
                válida para garantir resultados precisos.</p>
            <p>Caso você não esteja familiarizado com o termo "web scraping", trata-se da técnica de extração
                automatizada de informações de páginas da web. Com a ajuda do Python, podemos acessar e analisar os
                dados de um site, permitindo-nos extrair estatísticas relevantes.</p>
            <p>Fique à vontade para explorar e experimentar diferentes URLs. Estamos aqui para ajudá-lo a entender
                melhor os dados e fornecer uma análise estatística útil. Se tiver alguma dúvida ou precisar de
                assistência, sinta-se à vontade para entrar em contato conosco.</p>
            <p>Aproveite a experiência de web scraping e aprofunde seu conhecimento em Python!</p>

        </div>

        {% endif %}

        
    </div>

    <footer>
        <p>Curso: Python do Zero ao Avançado!</p>
    </footer>

</body>

</html>